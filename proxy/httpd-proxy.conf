LoadModule ssl_module modules/mod_ssl.so
LoadModule socache_shmcb_module modules/mod_socache_shmcb.so

LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_http_module modules/mod_proxy_http.so
LoadModule headers_module modules/mod_headers.so

SSLProxyEngine On

<VirtualHost *:80>
    ServerName localhost

    ProxyPreserveHost On
    ProxyRequests Off

    # --- API → BACKEND ---
    # /api/... que llega al proxy → BACKEND_URL/... (que ya contiene /api)
    ProxyPass        "/api/" "__BACKEND_URL__/"
    ProxyPassReverse "/api/" "__BACKEND_URL__/"

    # --- RESTO → FRONTEND ---
    ProxyPass        "/" "__FRONTEND_URL__/"
    ProxyPassReverse "/" "__FRONTEND_URL__/"
</VirtualHost>